#pragma checksum "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c4da7b9eb62b326f1fb63dea0676ab133d41407c"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace EFGrid.Shared
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using EFGrid;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\_Imports.razor"
using EFGrid.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using Syncfusion.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using Syncfusion.Blazor.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using static EFGrid.Pages.Index;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using Microsoft.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
using Microsoft.AspNetCore.Hosting;

#line default
#line hidden
#nullable disable
    public partial class CustomAdaptorComponent : DataAdaptor<Order>
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 19 "C:\Users\DhivyaRajendran\Downloads\datagridSQLconnection\EFGrid\EFGrid\Shared\CustomAdaptorComponent.razor"
       
    [Parameter]
    [JsonIgnore]
    public RenderFragment ChildContent { get; set; }
    public static DataSet CreateCommand(string queryString, string connectionString)
    {
        using (SqlConnection connection = new SqlConnection(
                   connectionString))
        {

            SqlDataAdapter adapter = new SqlDataAdapter(queryString, connection);
            DataSet dt = new DataSet();
            try
            {
                connection.Open();
                adapter.Fill(dt);// using sqlDataAdapter we process the query string and fill the data into dataset
            }
            catch (SqlException se)
            {
                Console.WriteLine(se.ToString());
            }
            finally
            {
                connection.Close();
            }
            return dt;
        }
    }
    // Performs data Read operation
    public override object Read(DataManagerRequest dm, string key = null)
    {
        string appdata = _env.ContentRootPath;
        string path = Path.Combine(appdata, "App_Data\\NORTHWND.MDF");
        string str = $"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename='{path}';Integrated Security=True;Connect Timeout=30";
        // based on the skip and take count from DataManagerRequest here we formed SQL query string
        string qs = "SELECT OrderID, CustomerID FROM dbo.Orders ORDER BY OrderID OFFSET " + dm.Skip + " ROWS FETCH NEXT " + dm.Take + " ROWS ONLY;";
        DataSet data = CreateCommand(qs, str);
        Orders = data.Tables[0].AsEnumerable().Select(r => new Order
        {
            OrderID = r.Field<int>("OrderID"),
            CustomerID = r.Field<string>("CustomerID")
        }).ToList();  // here we convert dataset into list
        IEnumerable<Order> DataSource = Orders;
        SqlConnection conn = new SqlConnection(str);
        conn.Open();
        SqlCommand comm = new SqlCommand("SELECT COUNT(*) FROM dbo.Orders", conn);
        Int32 count = (Int32)comm.ExecuteScalar();
        return dm.RequiresCounts ? new DataResult() { Result = DataSource, Count = count } : (object)DataSource;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IHostingEnvironment _env { get; set; }
    }
}
#pragma warning restore 1591
